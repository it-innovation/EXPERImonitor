<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link href="js/libs/nvd3/nv.d3.css" rel="stylesheet" type="text/css"/>
        <style>
            html { 
                height:100%;
            }
            body, svg { 
                min-height:100%;
            }
        </style>
    </head>
    <body>
        <div id="test10">
            <svg></svg>
        </div>
        <script src="js/libs/d3/d3.js" type="text/javascript"></script>
        <script src="js/libs/nvd3/nv.d3.js" type="text/javascript"></script>
        <script>
            var dp =  randomData();
                    function randomData() {
                var data = [],
                    randome = d3.random.normal(3, 1),
                    randoms = d3.random.normal(5),
                    myArray = [1,2,3,4,5];
                    
                for (i = 0; i < 10; i++) {
                    var randoma = myArray[Math.floor(Math.random() * myArray.length)];
                  data.push({
                    key: 'Participant ' + i,
                    values: []
                    });
                    for (j = 0; j < randoma; j++) {
                        data[i].values.push({
                          qoe: randome(), 
                          qos: randoms()
                        });
                    }
                }
                return data;
            }
               console.log(JSON.stringify(dp));
            
            //d3.json("scatter.json", function(error, data){
                nv.addGraph(function() {
                    var chart;
                    chart = nv.models.scatterChart()
                        .x(function(d){ return d.qos; })
                        .y(function(d){ return d.qoe; })
                        .sizeRange([400,400])
                        .showDistX(true)
                        .showDistY(true);
                    chart.xAxis
                        .tickFormat(d3.format('.02f'));
                    chart.yAxis
                        .tickFormat(d3.format('.01f'));
                    chart.tooltipContent(function(key) { return "<h3>" + key + "</h3>"; });
                    d3.select('#test10 svg')
                        .datum(dp)
                        .transition()
                        .duration(500)
                        .call(chart);
                    nv.utils.windowResize(chart.update);
                    return chart;
                });
            //});
        </script>
    </body>
</html>
